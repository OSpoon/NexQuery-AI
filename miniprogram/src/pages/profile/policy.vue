<script setup lang="ts">
import { ref } from 'vue'
import { onLoad } from '@dcloudio/uni-app'

const type = ref('')
const title = ref('')
const content = ref('')

onLoad((options: any) => {
    type.value = options.type || 'service'
    if (type.value === 'service') {
        title.value = '用户服务协议'
        content.value = `
【重要提示】
欢迎您使用 NexQuery AI（以下简称“本软件”）。请您（以下亦称“用户”）在注册登录或使用本软件服务之前，仔细阅读并充分理解本《用户服务协议》（以下简称“本协议”）的所有内容。当您点击“登录”、“注册”或实际使用本服务，即视为您已阅读并同意接受本协议的约束。

1. 服务说明
   1.1 NexQuery AI 是一款集成的数据库查询管理与 AI 辅助分析工具，为用户提供数据库连接管理、SQL 执行、结果可视化及 AI 智能生成 SQL 等功能。
   1.2 除非另有明确规定，增强或强化目前服务的任何新功能，包括新产品，均无条件地适用本协议。

2. 账号注册与安全
   2.1 您在注册账号时，承诺提供真实、准确、有效的个人资料（包括但不限于邮箱、手机号等）。
   2.2 您有责任妥善保管您的账号及密码。因您保管不善可能导致账号被他人使用（包括但不限于遭受黑客攻击、账号密码分享给他人），责任由您自行承担。
   2.3 鉴于本软件涉及数据库敏感操作，强烈建议您开启二次验证（2FA）功能以保障账户安全。

3. 用户行为规范
   3.1 您在使用本服务过程中的所有行为均应遵守中华人民共和国法律法规。
   3.2 您不得利用本软件从事以下行为：
       (1) 对本软件进行反向工程、反向汇编、反向编译；
       (2) 使用本软件连接非授权的数据库或窃取他人数据；
       (3) 发送或存储任何违法的、威胁性的、诽谤性的内容；
       (4) 恶意攻击、破坏本软件服务器或网络环境。
   3.3 对于违反上述规范的用户，我们有权随时暂停或终止为您提供服务。

4. 知识产权声明
   4.1 本软件（包括但不限于代码、界面设计、LOGO、文档）的所有知识产权均归开发者所有。
   4.2 未经授权，您不得以任何形式复制、修改、出售或出租本软件的全部或部分内容。

5. 数据安全与隐私
   5.1 我们非常重视您的数据安全。您的数据库连接信息（如 Host、密码）均经过高强度加密存储。
   5.2 具体的隐私保护措施请参阅我们的《隐私政策》。

6. 免责声明
   6.1 AI 生成的 SQL 语句仅供参考，您在执行前应进行人工审核。因直接执行 AI 生成的代码导致的数据丢失或错误，本软件不承担责任。
   6.2 鉴于网络服务的特殊性，我们不保证服务不会中断，对服务的及时性、安全性、准确性也不作担保。

7. 协议终止
   7.1 您有权随时停止使用本服务。
   7.2 如您违反本协议，我们有权终止向您提供服务并保留追究法律责任的权利。

8. 其他
   8.1 本协议的解释权归 NexQuery AI 团队所有。
   8.2 若本协议中的任何条款无效，不影响其他条款的效力。
        `
    } else {
        title.value = '隐私政策'
        content.value = `
【生效日期：2026年1月24日】
NexQuery AI（以下简称“我们”）非常重视用户的隐私和个人信息保护。您在使用我们的服务时，我们可能会收集和使用您的相关信息。本《隐私政策》将向您说明我们如何收集、使用、保存和分享这些信息。

一、我们如何收集您的信息
1. **账号信息**：当您注册时，我们需要收集您的电子邮箱、用户名、头像等信息，用于身份验证和账号管理。
2. **数据库配置**：为了提供查询服务，您需要提供数据库的连接信息（地址、端口、用户名、密码等）。
3. **操作日志**：我们会记录您的 SQL 执行历史、AI 对话记录，以便您在“历史记录”功能中查看。
4. **微信信息**：当您选择微信一键登录时，我们会收集您的微信 OpenID 及您授权使用的头像、昵称。

二、我们如何使用您的信息
1. **提供核心服务**：利用数据库配置信息建立连接并执行您发起的查询。
2. **AI 辅助分析**：您的自然语言输入和表结构信息将被发送至大模型接口（如 LLM）以生成 SQL 或分析建议。我们不会利用您的具体业务数据进行模型训练。
3. **安全保障**：用于检测异常登录、防止欺诈行为。

三、我们如何存储和保护您的信息
1. **加密存储**：您的敏感信息（如数据库密码、API Key）在存入数据库前会经过 AES-256 等高强度加密处理。
2. **密钥管理**：加密密钥与数据分开存储，确保即便数据库泄露也无法还原敏感信息。
3. **即用即毁**：对于某些极其敏感的操作，我们尽可能在内存中处理数据，不进行持久化存储。

四、信息的分享与对外提供
1. 我们不会向任何第三方出售您的个人信息。
2. **第三方服务**：为了实现 AI 功能，您的 Prompt（提示词）会被发送给 AI 模型服务商。我们已与服务商签署保密协议。
3. **法律要求**：根据法律法规或政府主管部门的强制性要求，我们可能需要披露您的信息。

五、您的权利
1. 您可以随时在“个人中心”查看、修改您的个人资料。
2. 您可以通过联系客服要求删除您的账号及所有相关数据（注销账号）。

六、联系我们
如您对本隐私政策有任何疑问或投诉，请发送邮件至：privacy@nexquery.ai
        `
    }

    uni.setNavigationBarTitle({
        title: title.value
    })
})
</script>

<template>
    <view class="container">
        <view class="title">{{ title }}</view>
        <text class="content">{{ content }}</text>
    </view>
</template>

<style scoped>
.container {
    min-height: 100vh;
    background-color: #fff;
    padding: 40rpx;
}

.title {
    font-size: 36rpx;
    font-weight: bold;
    color: #333;
    margin-bottom: 30rpx;
    text-align: center;
}

.content {
    font-size: 28rpx;
    color: #666;
    line-height: 1.8;
    white-space: pre-wrap;
}
</style>
